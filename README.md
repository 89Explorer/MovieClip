# MovieClip
<img src = "https://github.com/user-attachments/assets/67893559-0354-4daa-ba7a-168d485b4163" width="200" height="200"/>

<br />
<br />
<br />

## ğŸ“Œ ì•± ì†Œê°œ 
- $\huge{\rm{\color{green}MovieClip}}$ ì€ TMDB APIë¥¼ í™œìš©í•˜ì—¬ ìµœì‹  ì˜í™”, TV í”„ë¡œê·¸ë¨, ë°°ìš° ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.
- $\huge{\rm{\color{green}async/await}}$ ì„ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ì§ê´€ì ì´ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
- $\huge{\rm{\color{green}UICollectionViewDiffableDataSource}}$ ì™€ $\huge{\rm{\color{green}CompositionalLayout}}$ ì„ í™œìš©í•˜ì—¬ ë™ì ì¸ UIë¥¼ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
- ê²€ìƒ‰ ê¸°ëŠ¥ì—ì„œëŠ” $\huge{\rm{\color{green}MVVM}}$, $\huge{\rm{\color{green}Combine}}$ ì„ ì ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ê²€ìƒ‰ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. 
- $\huge{\rm{\color{green}Google API}}$ ë¥¼ í™œìš©í•˜ì—¬ ì˜í™”, í‹°ë¹„ í”„ë¡œê·¸ë¨, ì¸ë¬¼ ê´€ë ¨ ê°œìš” ë¶€ë¶„ì— ëŒ€í•´ ë²ˆì—­ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.

<br />
<br />

## âœ¨ ì£¼ìš” ê¸°ëŠ¥
- TMDB ì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ í†µí•´ ì˜í™”, í‹°í”¼ í”„ë¡œê·¸ë¨, ì¸ë¬¼ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ì˜í™” ë° í‹°ë¹„ í”„ë¡œê·¸ë¨ì— ëŒ€í•œ ìƒì„¸ ì •ë³´(ê°œìš”, ì˜ˆê³ í¸, í¬ìŠ¤í„°), í•´ë‹¹ í”„ë¡œê·¸ë¨ê³¼ ìœ ì‚¬í•œ ì‘í’ˆ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.
- ì¸ë¬¼ì— ëŒ€í•œ ìƒì„¸ ì •ë³´(ì´ë¦„, ì¶œìƒì¼, ê°œìš”, ì†Œì…œë¯¸ë””ì–´, ì¶œì—°ì‘í’ˆ)ì„ ì œê³µí•©ë‹ˆë‹¤.
- í”„ë¡œê·¸ë¨ ë° ì¸ë¬¼ ì†Œê°œ ë“± TMDBì—ì„œ ì œê³µí•˜ì§€ ì•ŠëŠ” "í•œêµ­ì–´" ì„œë¹„ìŠ¤ ê²½ìš°, Google APIë¥¼ í†µí•´ ë²ˆì—­ì„ í–ˆìŠµë‹ˆë‹¤.

<br />
<br />

## ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·
<img src = "https://github.com/user-attachments/assets/dfaf24fa-0856-433e-ab6b-4397eba29277" height="400"/>
<img src = "https://github.com/user-attachments/assets/8906b69c-76e1-4711-98c6-e293ebd1e685" height="400"/>

<br />
<br />

## ğŸ¥ ì‹œì—° ì˜ìƒ

|í™ˆ í™”ë©´|ì˜í™” í™”ë©´|í‹°ë¹„ í™”ë©´|ê²€ìƒ‰ í™”ë©´|
|:---:|:---:|:---:|:---:|
|<img src = "https://github.com/user-attachments/assets/b14c4088-e2a7-4742-bdf0-24684f886b62" height="400"/>|<img src = "https://github.com/user-attachments/assets/71a17d68-d959-47c7-b9a1-fb2689bce852" height="400"/>|<img src = "https://github.com/user-attachments/assets/8ebc8160-baee-4794-8615-5bd9e7a7821e" height="400"/>|<img src = "https://github.com/user-attachments/assets/4c602be0-407a-457a-8986-71013e636da2" height="400"/>|

<br/>

|ìƒì„¸í˜ì´ì§€-ì˜í™”|ìƒì„¸í˜ì´ì§€-ì¸ë¬¼|ìƒì„¸í˜ì´ì§€-ê²€ìƒ‰í™”ë©´|
|:---:|:---:|:---:|
|<img src = "https://github.com/user-attachments/assets/68fad0bd-f511-4d82-90e2-83246c934cb7" height="400"/>|<img src = "https://github.com/user-attachments/assets/cd593d2a-27a5-49b6-9b21-1b8cd529359b" height="400"/>|<img src = "https://github.com/user-attachments/assets/8146f333-c45f-4586-96b2-e662c8447a04" height="400"/>|

<br />
<br />

## ğŸ”§ ì•± ê°œë°œ í™˜ê²½
- ê°œë°œ ì–¸ì–´: Swift
- ê°œë°œ ë„êµ¬: Xcode
- ë„¤íŠ¸ì›Œí‚¹: async/await í™œìš©í•œ API í˜¸ì¶œ
- UI êµ¬ì„±: UICollectionViewDiffableDataSource ë° CompositionalLayout ì ìš©
- ê²€ìƒ‰ ê¸°ëŠ¥: MVVM + Combine ì ìš©

<br />
<br />

## âš™ï¸ êµ¬í˜„ ê³ ë ¤ì‚¬í•­
- TMDBì—ì„œ ì œê³µí•˜ëŠ” API í˜¸ì¶œ í•¨ìˆ˜ ë° ë°ì´í„° ëª¨ë¸ ì¤€ìˆ˜
- UICollectionViewDiffableDataSourceì„ í™œìš©í•œ ë°ì´í„° ê´€ë¦¬
  > ë°ì´í„° ìŠ¤ëƒ…ìƒ·ì„ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°˜ì˜í•˜ì—¬, ìˆ˜ë™ UI ì—…ë°ì´íŠ¸ë¥¼ ìµœì†Œí™”í•˜ê³  ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.
- UICollectionViewCompositionalLayoutì„ í†µí•œ ìœ ì—°í•œ UI ë ˆì´ì•„ì›ƒ êµ¬ì„±
  > ê° ì„¹ì…˜ë³„ë¡œ ë…ë¦½ì ì¸ ë ˆì´ì•„ì›ƒ ì„¤ê³„ê°€ ê°€ëŠ¥í•˜ì—¬, ë‹¤ì–‘í•œ ë””ìì¸ ìš”êµ¬ì‚¬í•­ì„ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Combineì„ ì ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
  > ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì„¹ì…˜ ë³„(ì˜í™”, í‹°ë¹„ í”„ë¡œê·¸ë¨, ì¸ë¬¼) ë³´ì—¬ì¤ë‹ˆë‹¤.
  > ê²€ìƒ‰ ê²°ê³¼ëŠ” 1í˜ì´ì§€ì— 20ê°œ ì´ë©°, ê²€ìƒ‰ ê²°ê³¼ê°€ 1í˜ì´ì§€ì— 20ê°œ ë³´ë‹¤ ì ì„ ê²½ìš°ëŠ” "ë”ë³´ê¸°" ë²„íŠ¼ì´ í™œì„±í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  > ê²€ìƒ‰ ê²°ê³¼ ì„¹ì…˜ì— ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì„ ê²½ìš°, "ë”ë³´ê¸°" ë²„íŠ¼ì´ í™œì„±í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
- Google ë²ˆì—­ APIë¥¼ ì ìš©í•˜ì—¬ í•œêµ­ì–´ ì§€ì› ê¸°ëŠ¥ ì¶”ê°€
  > TMDBì—ì„œ ê¸°ë³¸ ì–¸ì–´ëŠ” í•œêµ­ì–´ë¡œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, íŠ¹ì • ì •ë³¸ëŠ” í•œêµ­ì–´ ì œê³µì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  > Google ë²ˆì—­ APIë¥¼ í†µí•´ ì˜ì–´ â¡ï¸ í•œêµ­ì–´ë¡œ ë²ˆì—­í•©ë‹ˆë‹¤.

<br />
<br />

## ğŸ›  ê°œë°œ ê¸°ê°„
- ê°œë°œ ê¸°ê°„: 3ì£¼
- ê°œë°œ ì¸ì›: 1ì¸

<br />
<br />

## ğŸ‘ğŸ» íšŒê³ 
ì´ ì „ì— NetFlix ì•±ì„ í´ë¡  ì½”ë”©í•˜ë©´ì„œ UI êµ¬ì„±ì„ UITableView ì™€ UICollectionView ì„ í™œìš©í–ˆìŠµë‹ˆë‹¤. 
UITableView ë‚´ë¶€ì— UICollectionView ì„ ì‚½ì…í•˜ì—¬ í–‰ ë§ˆë‹¤ ê°€ë¡œ ìŠ¤í¬ë¡¤ ì…€ì„ êµ¬í˜„í–ˆì—ˆê³ , 
ê²€ìƒ‰ ê²°ê³¼ë¥¼ UICollectionView ì„ í†µí•´ 3ì—´ë¡œ poster ì´ë¯¸ì§€ë§Œ ë³´ì—¬ì£¼ëŠ” êµ¬ì„±ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. 


ì´ë²ˆ MovieClip ì•±ì—ì„œëŠ” UICollectionViewCompositionalLayout ì„ í™œìš©í•˜ì—¬ ê° ì„¹ì…˜ë³„ë¡œ ë…ë¦½ì ì¸ ë ˆì´ì•„ì›ƒì„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ ë³µì¡í•œ UIë„ í›¨ì”¬ ìœ ì—°í•˜ê³  ì½”ë“œì˜ ê°€ë…ì„±ì´ ì¢‹ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ê°€ë¡œ, ì„¸ë¡œ ìŠ¤í¬ë¥´ë¡¤ì„ ì¡°í•©í•˜ì—¬ ë‹¤ì–‘í•œ ë ˆì´ì•„ì›ƒì„ ì ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ì´ ì „ ë°©ì‹ê³¼ ë¹„êµí–ˆì„ ë•Œ ë³µì¡í•œ UIë¥¼ ì§ê´€ì ìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆì–´ ì¸ìƒì ì´ì—ˆìŠµë‹ˆë‹¤. 


ì˜ˆë¥¼ ë“¤ì–´, ê¸°ì¡´ UICollectionViewCompositionalLayout ì„ ì‚¬ìš©í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë ˆì´ì•„ì›ƒì„ ì„¤ì •í–ˆë‹¤ê³  í•œë‹¤ë©´?
```swift
let layout = UICollectionViewFlowLayout()
layout.scrollDirection = .horizontal
layout.itemSize = CGSize(width: 120, height: 180)
layout.minimumLineSpacing = 10
collectionView.collectionViewLayout = layout
```


ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” UICollectionViewCompositionalLayout ì„ í™œìš©í•˜ì—¬ ë” ìœ ì—°í•˜ê²Œ ì„¹ì…˜ë³„ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
```swift
let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(0.3), heightDimension: .fractionalHeight(1.0))
let item = NSCollectionLayoutItem(layoutSize: itemSize)

let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0), heightDimension: .absolute(200))
let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize, subitems: [item])

let section = NSCollectionLayoutSection(group: group)
section.orthogonalScrollingBehavior = .continuous

let layout = UICollectionViewCompositionalLayout(section: section)
collectionView.setCollectionViewLayout(layout, animated: true)
```


ë˜í•œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì—ì„œë„ ì´ì „ NetFlix ì•±ì„ í´ë¡  ì½”ë”©í–ˆì„ ë•Œì™€ ë³€í™”ê°€ ìˆìŠµë‹ˆë‹¤. 
ê¸°ì¡´ì—ëŠ” UICollectionViewì˜ reloadData()ë¥¼ í˜¸ì¶œí•˜ì—¬ UIë¥¼ ê°±ì‹ í–ˆì§€ë§Œ, ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” UICollectionViewDiffableDataSource ë¥¼ ì ìš©í•˜ì—¬ ë°ì´í„° ë³€ê²½ ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ë°˜ì˜í–ˆìŠµë‹ˆë‹¤. 
ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìŠ¤ëƒ…ìƒ·(Snapshot) ê¸°ë°˜ì˜ ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë³„ì ì¸ ì…€ì„ ì¶”ê°€ / ì‚­ì œí•  ë•Œë„ 
ì „ì²´ UIë¥¼ ë‹¤ì‹œ ê·¸ë¦´ í•„ìš” ì—†ì´ ë³€ê²½ëœ ë°ì´í„°ë§Œ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë„ë¡í–ˆìŠµë‹ˆë‹¤.



ê¸°ì¡´ì˜ reloadData() ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 
```swift
var movies: [Movie] = []

func fetchMovies() {
    MovieAPI.getTrendingMovies { [weak self] newMovies in
        self?.movies = newMovies
        DispatchQueue.main.async {
            self?.collectionView.reloadData()
        }
    }
}
```


DiffableDataSourceì„ í™œìš©í•œ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 
```swift
enum Section {
    case main
}

private var dataSource: UICollectionViewDiffableDataSource<TvTMDBData, TvResultItem>?

private func createDataSource() {
    dataSource = UICollectionViewDiffableDataSource<TvTMDBData, TvResultItem>(collectionView: seriesCollectionView) { collectionView, indexPath, item in
        
        let tvTMDBResult = item.tvResult
        let sectionType = self.tvCombineSection.combineTMDB[indexPath.section].type ?? .popular
        
        switch sectionType {
        case .airingToday:
            return self.configure(TvFeaturedCell.self, with: tvTMDBResult, for: indexPath)
        case .onTheAir:
            return self.configure(TVMediumCell.self, with: tvTMDBResult, for: indexPath)
        case .popular:
            return self.configure(TvFeaturedCell.self, with: tvTMDBResult, for: indexPath)
        case .topRated:
            return self.configure(TVSmallCell.self, with: tvTMDBResult, for: indexPath)
        }
    }
    ...
}

private func reloadData() {
    var snapshot = NSDiffableDataSourceSnapshot<TvTMDBData, TvResultItem>()
    snapshot.appendSections(tvCombineSection.combineTMDB)
    for tmdbData in tvCombineSection.combineTMDB {
        let items = tmdbData.results.map {
            TvResultItem(tvResult: $0, sectionType: tmdbData.type ?? .popular)
        }
        snapshot.appendItems(items, toSection: tmdbData)
    }
    dataSource?.apply(snapshot, animatingDifferences: true)
}

private func fetchTvs() {
    Task {
        do {
            ...
            DispatchQueue.main.async {
                self.tvCombineSection = tvs
                self.reloadData()
            }
        } catch {
            print("âŒ Error: \(error)")
        }
    }
}
```


ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì—ì„œë„ ì´ì „ NetFlix ì•±ê³¼ ë‹¤ë¥¸ ì ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì „ì—ëŠ” Completion Handler ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ APIë¥¼ ë¥¼ ìš”ì²­í–ˆì§€ë§Œ,
ì´ë²ˆì—ëŠ” async / await ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ì½”ë“œ ê°€ë…ì„±ì´ ì¢‹ì•„ì¡ŒìŠµë‹ˆë‹¤. 
ë˜í•œ MVVM + Combine ì„ í™œìš©í•˜ì—¬ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬, ë¹„ë™ê¸° ë°ì´í„° íë¦„ì„ ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. 












